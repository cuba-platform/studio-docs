:sourcesdir: ../../../../source

[[generic_ui_menu]]
==== Работа с меню приложения

Дизайнер меню позволяет задать элементы главного меню приложения и сохранить их в конфигурационном файле `web-menu.xml`. На вкладке *Structure* вы найдёте графический дизайнер меню, а его XML-код можно редактировать на вкладке *Text*.

image::features/generic_ui/web_menu.png[align="center"]

Существует два режима создания меню:

* Режим *Single mode* содержит только элементы, описанные в файле `web-menu.xml`. В этом режиме вам придётся вручную создавать все элементы меню, включая те, что были созданы в компонентах приложения. С другой стороны, этот режим предоставляет вам полный контроль над структурой меню.

* Режим *Composite mode* включает в себя все элементы, описанные в файле `menu.xml` проекта, плюс элементы из конфигурационных файлов меню компонентов приложения. Этот режим позволяет легко использовать все унаследованные элементы и добавить к ним элементы, специфичные для данного проекта, в любое место в структуре меню. Унаследованные элементы отредактировать нельзя.
+
Дополнительно на вкладке *Text* можно определить для элементов меню атрибуты `ìnsertBefore` и `insertAfter`, которые указывают, где должен быть размещён конкретный элемент меню. Эти атрибуты позволяют комбинировать элементы меню текущего проекта с элементами, унаследованными из компонентов, если выбран режим *Composite*.
+
Например, если вы хотите поместить собственную структуру меню слева от стандартного элемента _Administration_, установите атрибут `insertBefore="administration"` для корневого элемента в вашей иерархии.

Список конфигурационных файлов меню задаётся свойством приложения {main_man_url}/app_properties_reference.html#cuba.menuConfig[cuba.menuConfig], значение которого обновляется при смене режима создания меню.

Чтобы добавить в меню новый элемент, выберите существующий элемент (или файл конфигурации, если нужно создать элемент верхнего уровня) и нажмите на кнопку image:plus_button.png[+]. Появится окно *Menu item editor*, в котором вы можете создать элемент меню с одним из следующих типов:

Screen::
+
--
image::features/generic_ui/web_menu_create.png[float="right"]

Элемент меню, открывающий экран приложения.

Для элемента *Screen* необходимо определить следующие свойства:

* *Screen* - неуникальный идентификатор экрана, который должен открывать этот элемент.
* *Id* - дополнительный уникальный идентификатор элемента.
* *Open type* - свойство, определяющее, как должен открываться экран: в новой вкладке или в виде модального окна (`NEW_TAB` или `DIALOG`). По умолчанию используется `NEW_TAB`.
* *Shortcut* - горячие клавиши для открытия данного экрана. Допустимые модификаторы (ALT, CTRL, SHIFT) разделяются символом "-", например, ALT-C.
* *Style name* - определяет имя стиля элемента, подробнее см. в разделе {main_man_url}/gui_themes.html[Темы приложения] основного  руководства.
--

Menu::
+
--
image::features/generic_ui/web_menu_create_2.png[float="right"]

Элемент меню, содержащий другие элементы меню (подменю).

Для элемента *Menu* необходимо определить следующие свойства:

* *Id* - дополнительный уникальный идентификатор элемента.
* *Style name* - имя стиля элемента.
--

Bean::
+
--
image::features/generic_ui/web_menu_create_3.png[align="center"]

Элемент меню, который вызывает определённый метод {main_man_url}/managed_beans.html[управляемого бина].

Для элемента *Bean* необходимо определить следующие свойства:

* *Id* - дополнительный уникальный идентификатор элемента.
* *Bean* - имя бина, которое можно получить с помощью `AppBeans` (к примеру, `cuba_Messages`).
* *Bean method* - имя метода бина.
* *Shortcut* - горячие клавиши для вызова метода. Допустимые модификаторы (ALT, CTRL, SHIFT) разделяются символом "-", например, ALT-C.
* *Style name* - имя стиля элемента.
--

Class::
+
--
image::features/generic_ui/web_menu_create_4.png[float="right"]

Элемент меню, который выполняет метод `run()` определённого класса.

Для элемента *Class* необходимо определить следующие свойства:

* *Id* - дополнительный уникальный идентификатор элемента.
* *Class* - полное имя класса, унаследованного от `Runnable`.
* *Shortcut* - горячие клавиши для вызова метода. Допустимые модификаторы (ALT, CTRL, SHIFT) разделяются символом "-", например, ALT-C.
* *Style name* - имя стиля элемента.
--

Separator::
Горизонтальная линия, разделяющая элементы меню.