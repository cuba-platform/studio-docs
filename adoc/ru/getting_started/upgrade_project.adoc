:sourcesdir: ../../../source

[[upgrade_project]]
=== Обновление проекта

В этом разделе описан процесс обновления проекта до более новой версии платформы.

[TIP]
====
Мы рекомендуем настроить контроль версий для проекта и всегда делать commit планируемых изменений до изменения версии платформы. Это даст вам возможность видеть изменения и откатить их на предыдущую версию в случае, если обновление по каким-либо причинам завершится неудачей.
====

* Откройте проект, следуя инструкции в <<open_project,предыдущем разделе>>.

* Выберите *CUBA > Project Properties* в основном меню либо дважды нажмите на *Project > Properties* в дереве проекта CUBA.

* В открывшемся окне *CUBA Project Properties* кликните ссылку *Change...*, расположенную рядом с полем *Platform version*.

* Появится диалог *Change Platform Version*. Выберите желаемую версию платформы CUBA в списке выбора версии.

* Для целей бета-тестирования или раннего опробования новых возможностей платформы CUBA вам может потребоваться использовать одну из нестабильных версий платформы, тех что заканчиваются суффиксами `BETA` или `SNAPSHOT`. Чтобы увидеть их в списке выбора версии платформы, включите флажок *Show unstable versions*.
+
[TIP]
====
SNAPSHOT-версии доступны только, если вы используете репозиторий артефактов repo.cuba-platform.com.
====
+
[WARNING]
====
Нестабильные (BETA и SNAPSHOT) версии платформы категорически не рекомендуется использовать в промышленной эксплуатации.
====

* Вы можете нажать на ссылку *Release Notes* и перейти к странице документации, описывающей новые возможности, улучшения и несовместимые изменения в API новой версии платформы.

* Если вы обновляетесь до нового feature release (например, с 6.10.X на 7.0.X или с 7.0.Y на 7.1.Y), в диалоге *Change Platform Version* появится секция *Migration Required*.
** Нажав на ссылку *More info...*, вы можете открыть другой диалог, содержащий информацию об изменениях, которые Studio автоматически проделает в рамках миграции над структурой проекта, скриптами сборки и отдельными файлами проекта. Ознакомьтесь с этой информацией.

image::getting_started/platform-version-migration-required.png[align="center"]

* Нажмите *OK*, чтобы подтвердить изменение версии платформы, и нажмите *OK* в диалоге *Project Properties*.

* Studio выполнит автоматическую миграцию (при необходимости) и выполнит задачи Gradle `clean` и `undeploy`.

* Если вы обновляетесь до нового feature release, просмотрите раздел _Breaking Changes_ в {rel_notes_url}[Release Notes] и при необходимости внесите соответствующие изменения в ваш проект.

* Если к вашему проекту подключены *CUBA аддоны*, вам может потребоваться обновить их до соответствующих версий, совместимых с новой версией платформы CUBA:
** Откройте дерево проекта CUBA -> *Project* -> *Add-ons*.
** Перейдите на вкладку *Updates*.
** Выберите все аддоны, для которых предлагается обновление.
** Нажмите *Apply & Close*.
** Подождите, пока обновленные зависимости скачаются и проиндексируются.

* Попробуйте собрать проект, выполнив команду *CUBA > Build Tasks > Assemble*. Просмотрите журнал вывода и поправьте код, если в логах есть сообщения об ошибках компиляции.

* Выполните команду *CUBA > Update Database*, чтобы применить возможные изменения в системных таблицах платформы к базе данных вашего проекта.