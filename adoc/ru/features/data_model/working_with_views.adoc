:sourcesdir: ../../../../source

[[data_model_view]]
==== Работа с представлениями

Для создания нового {main_man_url}/views.html[представления], или view, выберите сущность в дереве проекта и нажмите *New > View* в её контекстном меню.

image::features/data_model/create_view.png[align="center"]

В открывшемся дизайнере представлений можно увидеть следующие поля:

* *Entity name* - имя сущности, для которой создаётся представление.
* *Name* - имя нового представления.
* *Extends* - встроенное или собственное представление, чьи атрибуты будет наследовать новое представление. Для любой сущности в платформе определены следующие представления по умолчанию:
** `_local`  включает в себя все локальные атрибуты сущности, т.е. атрибуты, которые не содержат ссылок на другие сущности,
** `_minimal` включает в себя атрибуты, входящие в имя экземпляра сущности и задаваемые аннотацией `@NamePattern`,
** `_base` включает в себя все локальные несистемные атрибуты и атрибуты, заданные в аннотации `@NamePattern` (т.е. фактически `_minimal` + `_local`).
* *Configuration file* - {main_man_url}/views.xml.html[файл конфигурации представлений], в котором будет сохранено текущее представление. По умолчанию Studio создаёт единственный файл `views.xml` в модуле `global`.

Полный список атрибутов выбранной сущности отображается в виде дерева ниже под полями. Вы можете выбрать, какие атрибуты включить в представление, с помощью соответствующих чекбоксов.

Если ваше представление наследует другое представление, все унаследованные атрибуты будут выбраны автоматически, а их чекбоксы будут неактивны.

Когда вы выбираете ссылочный атрибут, в панели справа отобразятся следующие свойства:

* *Entity* - имя сущности, на которую указывает ссылка.
* *View* - необязательное имя представления, с которым должна быть загружена эта сущность. Мы рекомендуем ссылаться на конкретное представление вместо произвольного набора атрибутов, так вам будет проще поддерживать сложные многоуровневые представления. Кроме того, даже если вы указали имя конкретного представления, вы по-прежнему можете добавить к нему отдельные атрибуты, не включённые в это представление, с помощью чекбоксов в дереве атрибутов.
* *Fetch* - дополнительное свойство ссылочных атрибутов, которое определяет тип загрузки связанной сущности из базы данных. Подробнее о типах загрузки см. в {main_man_url}/views.html[основном руководстве].

Когда вы нажмёте *OK* и закроете дизайнер представлений, вы сможете увидеть созданное представление в дереве проекта под сущностью:

image::features/data_model/create_view_2.png[align="center"]

Двойной клик по представлению в дереве проекта откроет файл конфигурации `views.xml` и установит курсор на определении этого представления. В нижней части редактора можно увидеть две вкладки: *Text* и *Structure*. Последняя отображает список представлений, описанных в этом файле конфигурации.

При редактировании представления в XML-дескрипторе используйте автодополнение имён атрибутов с помощью комбинации Ctrl+Space:

image::features/data_model/view_edit_1.png[align="center"]

Обратите внимание, если некоторые атрибуты подсвечены: с большой долей вероятности их не существует в данной сущности:

image::features/data_model/view_edit_2.png[align="center"]

Открыть графический дизайнер представлений можно несколькими способами:

* Выбрав представление в дереве проекта, нажать *Edit View* в его контекстном меню;

* Поместив курсов на элемент `view` в коде файла конфигурации представлений, нажать Alt+Enter (Option+Enter), выбрать *Edit view* во всплывающем меню и нажать Enter;

* Переключившись на вкладку *Structure* в редакторе файла конфигурации представлений, выбрать нужное представление и нажать на кнопку *Edit*.
