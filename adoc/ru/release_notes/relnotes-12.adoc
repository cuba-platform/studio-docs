[[relnotes_12]]

Версия 12::
+
--
. Дизайнер экранов был переработан с использованием UI компонентов платформы IntelliJ. Новый дизайнер открывается быстрее и имеет более отзывчивый интерфейс.
Для дизайнера было проделано много улучшений, некоторые из них упомянуты ниже.
+
image::release_notes/v-12-screen-designer.png[align="center"]

. В дизайнер экранов добавлена новая вкладка *Handlers*, рядом с Palette и Properties.
Она отображает как уже существующие методы-обработчики, так и все возможные варианты слушателей событий и делегатов действий, связанных с выбранным компонентом.
Чтобы создать необходимый метод-обработчик - просто выполните двойной клик мыши по соответствующей строке таблицы.
+
image::release_notes/v-12-sd-handlers.png[align="center"]

. Действие *Preview* добавлено в верхнюю панель действий дескриптора экранов.
Оно открывает окно с предварительным просмотром верстки редактируемого экрана. Рабочая область экрана предпросмотра взаимодействует с редактором XML и автоматически обновляет содержимое в соответствии с изменениями верстки.
+
image::release_notes/v-12-sd-preview.png[align="center"]

. Добавлены действия *Inject to controller* и *Go to XML* в контекстное меню дерева иерархии компонентов в дизайнере экранов.

. Добавлены действия *CUBA Documentation* в контекстное меню дерева иерархии компонентов и контекстное меню палитры компонентов. Эти действия открывают соответствующую секцию компонента в руководстве разработчика CUBA.

. Кнопка *Add Column* добавлена во вкладку Properties для компонента `Form`.

. Добавлено автодополнение имени класса для поля *class* в диалогах *Validator* и *Formatter* дизайнера экрана.

. Добавлена генерация кода слушателей для различных системных событий CUBA-приложения. Вызвать генерацию можно двумя способами:
.. Открыть существующий Spring-бин и нажать *Subscribe to event* на верхней панели действий редактора исходного кода.
.. В секции *Middleware* дерева проекта CUBA выполнить правый клик мыши и выбрать пункт *New* -> *Event Listener*.
+
image::release_notes/v-12-event-listeners.png[align="center"]

. Добавлены опции уровня проекта, влияющие на генерацию экранов. Эти настройки используются мастером *New* -> *Screen...*.
Чтобы изменить настройки, откройте главное меню -> *CUBA* -> *Settings* -> *Screen Generation Settings*.
Доступны следующие настройки:
.. Form field width (450px по умолчанию) - используется редакторами сущностей
.. Keep editor actions at the bottom - используется редакторами сущностей, открываемыми в "полноэкранном" режиме (не как диалог)
.. Force modal open type for editors - используется редакторами сущностей, открываемыми как диалог

. Добавлена возможность указать заголовок пункта меню в мастере создания экрана.

. Добавлена возможность генерировать код методов-обработчиков для компонентов, у которых еще не задан *id*. Studio попросит пользователя ввести id компонента, когда это потребуется.

. Действие *Main Menu* добавлено в верхнюю панель действий для редактора контроллера экрана. Оно позволяет добавить текущий экран в главное меню или перейти к настройкам уже существующего пункта меню.
+
image::release_notes/v-12-main-menu-action.png[align="center"]

. Улучшен интерфейс элементов Build WAR и UberJAR в секции Deployment дерева проекта CUBA. Теперь вы можете собрать WAR или UberJar просто выполнив двойной клик по соответствующему элементу *Build WAR* или *Build UberJAR*, если сборка данного артефакта включена. Конфигурационные файлы, относящиеся к данным артефактам (`single-war-web.xml`, `logback.xml`, `jetty-env.xml` и т.д.), теперь показываются рядом с элементами дерева проекта *WAR/UberJAR Settings* для удобного доступа.
+
image::release_notes/v-12-uber-jar.png[align="center"]

. Добавлены новые действия для создания новых скриптов создания и обновления БД. Эти действия доступны в дереве проекта CUBA, внутри секции *Data Stores* -> *Main Data Store*:
.. init -> контекстное меню -> *New* -> *Database init script*
.. update -> контекстное меню -> *New* -> *Database update script*

. Диалог *Install Delegate*, который вызывается из контроллера экрана, теперь позволяет сгенерировать делегаты: formatter, column generator и value provider для колонок таблиц.

. Добавлены подсказки для атрибута *icon* в XML дескрипторах экранов, также добавлен предпросмотр иконки в виде gutter icon.
+
image::release_notes/v-12-icon-gutter.png[align="center"]

. Добавлены подсказки для XML атрибута *optionsEnum* у компонента `LookupField`.

. Всплывающее окно *Quick Documentation*, когда оно вызвано для UI компонентов, теперь отображает ссылку для перехода к документации CUBA:
+
image::release_notes/v-12-quick-doc.png[align="center"]

. Диалог *Localized Message* в редакторе сущности теперь автоматически составляет ключи сообщений для ошибок валидации Bean Validation, например "playground_Rank.queueSize.validation.Digits" или "playground_Tariff.taxType.validation.NotNull".

. Добавлена поддержка опции *Integrated Security* для типа СУБД *Microsoft SQL Server (2012+)*. Заметьте, что она доступна только для проектов, основанных на CUBA 7.1.0 или более поздних.

. Улучшена производительность работы Studio с большими проектами (редактор сущностей, статический анализ  файлов views.xml, дерево проекта CUBA).

. Минимальная поддерживаемая версия IntelliJ IDEA увеличена до *2019.1*. Это значит, что если вы используете более старую версию IDEA (или CUBA Studio), вы не сможете обновить у себя плагин CUBA до новых версий; вам следует обновить вашу инсталляцию IDEA (или CUBA Studio).

. Небольшие улучшения и исправления:

** pass:macros[https://youtrack.cuba-platform.com/issues/STUDIO?q=Fixed%20in%20builds:%2012.0[Studio 12.0 Resolved Issues\]]

--
